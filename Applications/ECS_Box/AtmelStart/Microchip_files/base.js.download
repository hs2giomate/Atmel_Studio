var ACME=ACME||{};if(!ACME.configurators){ACME.configurators={}}if(!ACME.configurators.eventsystem){ACME.configurators.eventsystem={}}if(!ACME.configurators.utils){ACME.configurators.utils={}}if(!ACME.eventsystem){ACME.eventsystem={}}(Ext.cmd.derive("ACME.configurators.utils.AutoScroll",Ext.Mixin,{mixinConfig:{id:"autoScroll"},lastPosition:undefined,controller:undefined,step:5,doAutoScrollIfNeeded:function(b,a,d){var c=this;c.controller=b;if(d){c.step=d}if(c.lastPosition!==undefined){if(c.isItemAtBottom(a)){if(c.isMouseMovingDown(a)&&!c.scrollDownTask){c.scrollDownTask=Ext.TaskManager.start({run:c.scrollDown,scope:c,interval:50})}}else{c.stopScrollDown()}if(c.isItemAtTop(a)){if(c.isMouseMovingUp(a)&&!c.scrollUpTask){c.scrollUpTask=Ext.TaskManager.start({run:c.scrollUp,scope:c,interval:50})}}else{c.stopScrollUp()}}c.lastPosition={x:a.getBBox().x,y:a.getBBox().y}},stopAutoScroll:function(){var a=this;delete a.lastPosition;a.stopScrollDown();a.stopScrollUp()},isItemAtBottom:function(a){var d=this,b=d.controller.raphaelView.getHeight(),c=a.getBBox().y;return(b-c)<15},isItemAtTop:function(a){var e=this,f=e.controller.paper.canvas.clientHeight,c=e.controller.raphaelView.getHeight(),d=a.getBBox().y,b=e.controller.scrollable.getPosition().y;return((d-(f-c))<15)&&b>0},isMouseMovingDown:function(b){var d=this,c=d.lastPosition.x-b.getBBox().x,a=d.lastPosition.y-b.getBBox().y;return(Math.abs(a)>Math.abs(c)&&a<0)},isMouseMovingUp:function(b){var d=this,c=d.lastPosition.x-b.getBBox().x,a=d.lastPosition.y-b.getBBox().y;return(Math.abs(a)>Math.abs(c)&&a>0)},scrollDown:function(){var a=this,c=a.controller.scrollable.getMaxPosition().y,b=a.controller.scrollable.getPosition().y+a.step;if(b<c){a.controller.scrollable.scrollTo(0,b)}else{a.stopScrollDown()}},stopScrollDown:function(){var a=this;if(a.scrollDownTask){Ext.TaskManager.stop(a.scrollDownTask);delete a.scrollDownTask}},scrollUp:function(){var a=this,b=a.controller.scrollable.getPosition().y-a.step;if(b>0){a.controller.scrollable.scrollTo(0,b)}else{a.stopScrollUp()}},stopScrollUp:function(){var a=this;if(a.scrollUpTask){Ext.TaskManager.stop(a.scrollUpTask);delete a.scrollUpTask}}},0,0,0,0,0,0,[ACME.configurators.utils,"AutoScroll"],0));(Ext.cmd.derive("ACME.configurators.utils.DataHelper",Ext.Base,{getFilteredById:function(a,b){return Ext.Array.findBy(a,function(c){return c.id===b})},getFilteredByRectangleId:function(a,b){return Ext.Array.findBy(a,function(c){if(c.rectangle){return c.rectangle.textId===b}})},getFilteredByName:function(b,a){return Ext.Array.findBy(b,function(c){return c.get("name")===a})},getFilteredByField:function(b,c,a){return Ext.Array.findBy(b,function(d){return d[c]===a})},driverModules:function(){var a=this;if(!a.modulesCollection){a.modulesCollection=Ext.create("ACME.ext.data.ChainedStore",{id:"ModuleStore",storeId:"ModuleStore",source:ACME.Project.softwareComponents(),filters:[{property:"type",value:"driver"}]})}return a.modulesCollection},getDriverByInstanceId:function(b){var c=this,d=c.driverModules(),a=d.findBy(function(f){var e=f.get("instance");if(e){return e.getId()===b}});if(a>-1){return d.getAt(a)}},searchEntireDataById:function(b,d){if(b){if(b.hasOwnProperty("id")){if(b.id===d){return b}}if(b.hasOwnProperty("parameters")){var a;Ext.Array.each(b.parameters,function(e){a=this.searchEntireDataById(e,d);return !a},this);return a}if(Ext.isArray(b)){var c;Ext.Array.each(b,function(e){c=this.searchEntireDataById(e,d);return !c},this);return c}}},getOptionsList:function(f,d){var b=this;var c=b.getDriverByInstanceId(f);if(c){var e=c.configurationSpecification.parameters;if(e){var a=b.searchEntireDataById(e,d);if(a&&a.hasOwnProperty("enums")){return a.enums}}}return[]},hasEnableSettings:function(b){var a=b.settings||b;return(a.hasOwnProperty("enable_setting")||a.hasOwnProperty("enable_section"))},processConfigSetting:function(a){var b=[];Ext.Object.each(a,function(c,d){b.push({key:c,value:d})});return b},getDefaultSettings:function(e){var c=this,b={},a=e.get("instance"),d=e.configurationSpecification.parameters;if(a&&d){var f=e.getConfiguration();Ext.Object.each(f,function(g){var h=c.searchEntireDataById(d,g);b[g]=h.currentValue})}return b},getDefaultValue:function(c,g){var b=this,f=b.getDriverByInstanceId(c),a=f.get("instance"),e=f.configurationSpecification.parameters;if(a&&e){var d=b.searchEntireDataById(e,g);return d?d.currentValue:null}},getCurrentValue:function(b,d){var a=this,c=a.getDriverByInstanceId(b);return c?c.getConfiguration()[d]:null}},0,0,0,0,0,0,[ACME.configurators.utils,"DataHelper"],0));(Ext.cmd.derive("ACME.configurators.ConfiguratorController",ACME.ext.app.ViewController,{control:{"#":{activate:"onActivated",deactivate:"onDeactivated",boxready:"onBoxReady"}},onActivated:Ext.emptyFn,onDeactivated:Ext.emptyFn,onRemove:Ext.emptyFn,onBoxReady:Ext.emptyFn},0,0,0,0,0,0,[ACME.configurators,"ConfiguratorController"],0));(Ext.cmd.derive("ACME.configurators.eventsystem.EventsEnabledStatus",Ext.Base,{alternateClassName:"ACME.eventsystem.EventsEnabledStatus",singleton:true,enabled:0,disabled:1,invalid:2},0,0,0,0,0,0,[ACME.configurators.eventsystem,"EventsEnabledStatus",ACME.eventsystem,"EventsEnabledStatus"],0));